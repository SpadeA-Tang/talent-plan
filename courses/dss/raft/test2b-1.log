[0] becomes candidate at term 1
[1] grant vote for 0 at term 0
[1] becomes follower at term 1
[2] grant vote for 0 at term 0
[2] becomes follower at term 1
[0] received vote from 1 at term 1
[0] becomes leader at term 1
[1] becomes follower at term 1
[2] becomes follower at term 1
[0] start command of index 1 and term 1
[0] send entries from 1 to 1 to peer 1
[0] send entries from 1 to 1 to peer 2
[2] receive entries(1 - 1) from [0] with term 1 and commit index 0
[2] conflict_index 1 self.commit_index 0
[1] receive entries(1 - 1) from [0] with term 1 and commit index 0
[1] conflict_index 1 self.commit_index 0
[0] update commit index to 1 with ent Entry { term: 1, index: 1, data: [160, 6, 101] }
[1] becomes follower at term 1
[2] becomes follower at term 1
[2] becomes follower at term 1
[1] becomes follower at term 1
[2] becomes follower at term 1
[1] becomes follower at term 1
[1] becomes follower at term 1
[2] becomes follower at term 1
[1] becomes follower at term 1
[2] becomes follower at term 1
disconnect(1)
[0] start command of index 2 and term 1
[0] send entries from 2 to 2 to peer 1
[0] send entries from 2 to 2 to peer 2
[2] receive entries(2 - 2) from [0] with term 1 and commit index 1
[2] conflict_index 2 self.commit_index 1
[0] update commit index to 2 with ent Entry { term: 1, index: 2, data: [160, 6, 102] }
[2] becomes follower at term 1
[0] start command of index 3 and term 1
[0] send entries from 2 to 3 to peer 1
[0] send entries from 3 to 3 to peer 2
[2] receive entries(3 - 3) from [0] with term 1 and commit index 2
[2] conflict_index 3 self.commit_index 2
[0] update commit index to 3 with ent Entry { term: 1, index: 3, data: [160, 6, 103] }
[2] becomes follower at term 1
[2] becomes follower at term 1
[2] becomes follower at term 1
[2] becomes follower at term 1
[1] becomes candidate at term 2
[2] becomes follower at term 1
[2] becomes follower at term 1
[2] becomes follower at term 1
[2] becomes follower at term 1
[2] becomes follower at term 1
[2] becomes follower at term 1
[0] start command of index 4 and term 1
[0] send entries from 2 to 4 to peer 1
[0] send entries from 4 to 4 to peer 2
[2] receive entries(4 - 4) from [0] with term 1 and commit index 3
[2] conflict_index 4 self.commit_index 3
[0] update commit index to 4 with ent Entry { term: 1, index: 4, data: [160, 6, 104] }
[2] becomes follower at term 1
[0] start command of index 5 and term 1
[0] send entries from 2 to 5 to peer 1
[0] send entries from 5 to 5 to peer 2
[2] receive entries(5 - 5) from [0] with term 1 and commit index 4
[2] conflict_index 5 self.commit_index 4
[0] update commit index to 5 with ent Entry { term: 1, index: 5, data: [160, 6, 105] }
[1] becomes follower at term 2
[2] becomes follower at term 1
connect(1)
[0] start command of index 6 and term 1
[0] send entries from 2 to 6 to peer 1
[0] send entries from 6 to 6 to peer 2
[1] receive entries(2 - 6) from [0] with term 1 and commit index 5
[2] receive entries(6 - 6) from [0] with term 1 and commit index 5
[2] conflict_index 6 self.commit_index 5
[0] becomes follower at term 2
[0] becomes candidate at term 3
[1] reject vote for 0 at term 2
[1] becomes follower at term 3
[2] grant vote for 0 at term 1
[2] becomes follower at term 3
[0] received vote from 1 at term 3
[0] received vote from 2 at term 3
[0] becomes leader at term 3
[1] becomes follower at term 3
[2] becomes follower at term 3
[1] becomes follower at term 3
[2] becomes follower at term 3
[1] becomes follower at term 3
[2] becomes follower at term 3
[1] becomes follower at term 3
[2] becomes follower at term 3
[2] becomes follower at term 3
[1] becomes follower at term 3
[1] becomes follower at term 3
[2] becomes follower at term 3
[2] becomes follower at term 3
[1] becomes follower at term 3
[1] becomes follower at term 3
[2] becomes follower at term 3
[2] becomes follower at term 3
[1] becomes follower at term 3
[2] becomes follower at term 3
[1] becomes follower at term 3
[1] becomes follower at term 3
[2] becomes follower at term 3
[1] becomes follower at term 3
[2] becomes follower at term 3
[2] becomes follower at term 3
[1] becomes follower at term 3
[0] start command of index 7 and term 3
[0] send entries from 7 to 7 to peer 1
[0] send entries from 7 to 7 to peer 2
[1] receive entries(7 - 7) from [0] with term 3 and commit index 5
[2] receive entries(7 - 7) from [0] with term 3 and commit index 5
[2] conflict_index 7 self.commit_index 5
[0] send entries from 1 to 7 to peer 1
[0] update commit index to 7 with ent Entry { term: 3, index: 7, data: [160, 6, 106] }
[1] receive entries(1 - 7) from [0] with term 3 and commit index 5
[1] conflict_index 2 self.commit_index 1
[1] becomes follower at term 3
[2] becomes follower at term 3
[1] becomes follower at term 3
[2] becomes follower at term 3
[1] becomes follower at term 3
[2] becomes follower at term 3
[1] becomes follower at term 3
[2] becomes follower at term 3
[2] becomes follower at term 3
[1] becomes follower at term 3
[2] becomes follower at term 3
[1] becomes follower at term 3
[1] becomes follower at term 3
[2] becomes follower at term 3
[2] becomes follower at term 3
[1] becomes follower at term 3
[1] becomes follower at term 3
[2] becomes follower at term 3
[0] start command of index 8 and term 3
[0] send entries from 8 to 8 to peer 1
[0] send entries from 8 to 8 to peer 2
[2] receive entries(8 - 8) from [0] with term 3 and commit index 7
[2] conflict_index 8 self.commit_index 7
[1] receive entries(8 - 8) from [0] with term 3 and commit index 7
[1] conflict_index 8 self.commit_index 7
[0] update commit index to 8 with ent Entry { term: 3, index: 8, data: [160, 6, 107] }
[2] becomes follower at term 3
[1] becomes follower at term 3
test raft::tests::test_fail_agree_2b ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 44 filtered out; finished in 5.69s